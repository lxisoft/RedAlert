<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>crime Stopper home</title>
	<!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
    
    <!-- Bootstrap core CSS -->

    

    <link th:href="@{/css/bootstrap.min.css}" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link th:href="@{/css/mdb.min.css}" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link th:href="@{/css/style2.css}" rel="stylesheet">
	</head>

<body>

	<header>
		<!--Navbar-->
		<nav class="navbar navbar-expand-lg navbar-dark primary-color">
			<div class="container">
			
				<!-- Navbar brand -->
				<a class="navbar-brand" href="#">CrimeStopper</a>
				
				<!-- Collapse button -->
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#basicExampleNav"
				  aria-controls="basicExampleNav" aria-expanded="false" aria-label="Toggle navigation">
				  <span class="navbar-toggler-icon"></span>
				</button>
				
				<!-- Collapsible content -->
				<div class="collapse navbar-collapse" id="basicExampleNav">
				
					<!-- Links -->
					<ul class="navbar-nav mr-auto">
						<li class="nav-item active">
							<a class="nav-link" href="#">Home<span class="sr-only">(current)</span></a>
						</li>
						<li class="nav-item">
							<a class="nav-link" th:href="@{redAlertUi/profile.html}">Profile</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Add Complaint</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" data-toggle="modal" data-target="#exampleModal2" data-whatever="@mdo">Notifications</a>
						</li>
						<!-- Dropdown -->
						<!--
						<li class="nav-item dropdown">
						  <a class="nav-link dropdown-toggle" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
							aria-expanded="false">Dropdown</a>
						  <div class="dropdown-menu dropdown-primary" aria-labelledby="navbarDropdownMenuLink">
							<a class="dropdown-item" href="#">Action</a>
							<a class="dropdown-item" href="#">Another action</a>
							<a class="dropdown-item" href="#">Something else here</a>
						  </div>
						</li>
						-->
					</ul>
					<!-- Links -->
					
					<!-- Search Bar -->
					<!--
					<form class="form-inline">
						<div class="md-form my-0">
						<input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
						</div>
					</form>
					-->
				</div>
				<!-- Collapsible content -->
			</div>
		</nav>
		<!--/.Navbar-->
	</header>


	
	<main>
		<div id="mdb-preloader" class="flex-center">
			<div id="preloader-markup"></div>
		</div>
		
		<!-- Start your project here-->
		
		<!-- Popup to Add Complaint-->
		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		  aria-hidden="true">
		  <div class="modal-dialog" role="document">
			<div class="modal-content">
			  <div class="modal-header">
				<h4 class="modal-title" id="exampleModalLabel">Add Complaint</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">&times;</span>
				</button>
			  </div>
			  <div class="modal-body">
				<form>
				  <div class="md-form">
					<textarea type="text" id="message-text" class="form-control md-textarea" rows="3"></textarea>
					<label for="form7">Write your complaint here..</label>
				  </div>
				  <div class="md-form">
					<p>Link Similar Problems</p>
				  </div>
					<div class="list-group">
					  <button type="button" class="list-group-item list-group-item-action active">Problem 1</button>
					  <button type="button" class="list-group-item list-group-item-action">Problem 2</button>
					  <button type="button" class="list-group-item list-group-item-action">Problem 3</button>
					  <button type="button" class="list-group-item list-group-item-action">Problem 4</button>
					  <button type="button" class="list-group-item list-group-item-action" disabled>Problem 5</button>
 				  </div>
				  <div class="md-form">
 					<div class="btn-group" role="group" aria-label="Basic example">
						<button type="button" class="btn btn-tertiary">
							<!-- map-->	
							<i class="fas fa-map-marker-alt"></i>
						</button>
						<button type="button" class="btn btn-tertiary">
							<!-- audio-->	
							<i class="fas fa-microphone"></i>
						</button>
						<button type="button" class="btn btn-tertiary">
							<!-- attach file-->
							<i class="fas fa-paperclip"></i>
						</button>
						<button type="button" class="btn btn-tertiary">
							<!-- audio-->	
							<i class="fas fa-camera"></i>
						</button>
						<button type="button" class="btn btn-tertiary">
							<!-- video-->	
							<i class="fas fa-video"></i>
						</button>
					</div>
				  </div> 
				</form>
			  </div>
			  <div class="modal-footer">
				<button type="button" class="btn btn-primary">Add Complaint</button>
			  </div> 
			</div>
		  </div>
		</div>

		<!-- Popup to Notifications-->
		<div class="modal fade" id="exampleModal2" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		  aria-hidden="true">
		  <div class="modal-dialog" role="document">
			<div class="modal-content">
			  <div class="modal-header">
				<h4 class="modal-title" id="exampleModalLabel">Notifiations</h4>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				  <span aria-hidden="true">&times;</span>
				</button>
			  </div>
			  <div class="modal-body">
					<div class="list-group">
					  <button type="button" class="list-group-item list-group-item-action active">Vyshnav liked your post</button>
					  <button type="button" class="list-group-item list-group-item-action">Sooraj commented on your post</button>
					  <button type="button" class="list-group-item list-group-item-action">Ansal viewed your post</button>
					  <button type="button" class="list-group-item list-group-item-action">Sahal has created a post</button>
					  <button type="button" class="list-group-item list-group-item-action" disabled>Ruhail has viewed your post</button>
					  <button type="button" class="list-group-item list-group-item-action">Ansal viewed your post</button>
					  <button type="button" class="list-group-item list-group-item-action">Sahal has created a post</button>
					  <button type="button" class="list-group-item list-group-item-action" disabled>Ruhail has viewed your post</button>
				  </div>	
			  </div>

			</div>
		  </div>
		</div>
 
		
	<div th:each="complaint,iter : ${homeView.complaints}">
		<!-- Card -->
		<div class="card center_margin80 top_margin1">
			<!-- Card content -->
			<div class="card-body">
				<div class="media ">
					<img class="d-flex rounded-circle avatar z-depth-1-half mr-3" src="https://sunlimetech.com/portfolio/boot4menu/assets/imgs/team/img_01.png" alt="Avatar">
					<div class="media-body">
					<h5 class="mt-0 font-weight-bold blue-text"  th:text="${complaint.userName}">Caroline Horwitz</h5>
					<p th:text="${complaint.description}">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis odit minima eaque dignissimos recusandae
					officiis commodi nulla est, tempore atque voluptas non quod maxime, iusto, debitis aliquid? Iure ipsum,
					itaque.</p>
				
					</div>
				</div>
			</div>  
	
			<div class="btn-group" style="width: 100%;" role="group" aria-label="Basic example">
			
					<form th:if="${complaint.userResponse.flag!=T(com.lxisoft.redalert.client.crimestopper.model.UserResponseDTO.FlagEnum).LIKE}"action="/crime-stopper/likeComplaint" method="POST" style="width: 100%;">
						<input type="hidden" th:value="like" th:name="flag">
						<input type="hidden" th:value="${complaint.userResponse.id}" th:name="responseId">
					
						<input type="hidden" th:value="${complaint.id}" th:name="complaintId">
							<button type="submit" style="width: 100%;" class="btn btn-tertiary">
								<!-- like-->	
								<i class="far fa-thumbs-up"></i>
							</button>
					</form>
					<form th:if="${complaint.userResponse.flag==T(com.lxisoft.redalert.client.crimestopper.model.UserResponseDTO.FlagEnum).LIKE}"action="/crime-stopper/likeComplaint" method="POST" style="width: 100%;">
						<input type="hidden" th:value="like" th :name="flag">
						<input type="hidden" th:value="${complaint.userResponse.id}" th:name="responseId">
					
						<input type="hidden" th:value="${complaint.id}" th:name="complaintId">
							<button type="button" style="width: 100%;" class="btn btn-tertiary">
								<!-- like-->	                                                                                           
								<i class="fas fa-thumbs-up"></i>
							</button>
					</form>
					
					<form th:if="${complaint.userResponse.flag!=T(com.lxisoft.redalert.client.crimestopper.model.UserResponseDTO.FlagEnum).DISLIKE}"action="/crime-stopper/dislikeComplaint" method="POST" style="width: 100%;">
						<input type="hidden" th:value="like" th:name="flag">
						<input type="hidden" th:value="${complaint.userResponse.id}" th:name="responseId">
						<input type="hidden" th:value="${complaint.id}" th:id="'complaintId'+${iter.index}" th:name="complaintId">
							<button type="submit" style="width: 100%;" class="btn btn-tertiary">
								<!-- like-->	
							<i class="far fa-thumbs-down"></i>
							</button>
					</form>
					<form th:if="${complaint.userResponse.flag==T(com.lxisoft.redalert.client.crimestopper.model.UserResponseDTO.FlagEnum).DISLIKE}"action="/crime-stopper/dislikeComplaint" method="POST" style="width: 100%;">
						<input type="hidden" th:value="like" th:name="flag">
						<input type="hidden" th:value="${complaint.userResponse.id}" th:name="responseId">
						<input type="hidden" th:value="${complaint.id}" th:name="complaintId" th:id="'complaintId'+${iter.index}">
							<button type="button" style="width: 100%;" class="btn btn-tertiary">
								<!-- like-->	
						<i class="fas fa-thumbs-down"></i>
							</button>
					</form>	
				
				<form style="width: 100%;">
				<button type="button" th:onclick="|setComplaintId(${iter.index});|"  style="width: 100%;" class="btn btn-tertiary" data-toggle="modal" data-target="#basicExampleModal">
					<!-- comment-->	
					<i class="far fa-comment-alt"></i>
				</button>
				</form>
				<form style="width: 100%;">
					<button type="button" style="width: 100%;" class="btn btn-tertiary">
					<!-- location-->
					<i class="fas fa-map-marker-alt"></i>
					</button>
				</form>
			</div>
		</div>
		
		<!-- Card -->


		</div>
		
			<!-- Modal -->
			<div class="modal fade" id="basicExampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
		 	 aria-hidden="true">
			  <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <h5 class="modal-title" id="exampleModalLabel">Comments</h5>
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			          <span aria-hidden="true">&times;</span>
			        </button>
			      </div>
			      <form action="/crime-stopper/comment" method="POST">
						   <div class="modal-body">
						   
							        <div class="form-group shadow-textarea">
							  <textarea class="form-control z-depth-1" id="exampleFormControlTextarea6" rows="3" placeholder="Write something here..." name="comment"></textarea>
							  <input type="hidden"  name="complaintId" id="complaintID">
							  
								</div>
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					        
					        <button type="submit" class="btn btn-primary">Post comment</button>
					      </div>
				</form>	
			    </div>
			  </div>
		
			</div>
	</main>


	<footer></footer>
	
<!-- SCRIPTS -->
  <!-- JQuery -->
  <script src="https://maps.google.com/maps/api/js?key=AIzaSyDNvROGIUEfGUi_YHSWWbBVTJpqZuZCjvY"></script>
  <script type="text/javascript" th:src="@{/js/jquery-3.3.1.min.js}"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" th:src="@{/js/mdb.min.js}"></script>
  <script type="text/javascript" th:src="@{/js/custom.js}"></script>
  <script type="text/javascript" th:src="@{/js/location.js}"></script>
  <script type="text/javascript" th:src="@{/js/suggestions.js}"></script>
</body>

</html>
 